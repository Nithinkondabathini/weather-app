<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>WeatherDash</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script><style>:root{--bg:#0b1320;--card:#111a2b;--muted:#98a2b3;--text:#e6edf6;--brand:#4ea8ff;--accent:#7dd3fc;}*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui;background:#0b1320;color:var(--text)}.container{max-width:1100px;margin:0 auto;padding:24px}h1{margin:0 0 4px;font-weight:800;font-size:28px}.subtitle{margin:0 0 16px;color:var(--muted)}#city-form{display:flex;gap:8px;margin-top:10px}#city-input{flex:1;padding:12px 14px;border-radius:12px;border:1px solid #25324a;background:#0e172a;color:var(--text);outline:none}.btn{padding:12px 16px;border:none;border-radius:12px;background:var(--brand);color:#001427;font-weight:700;cursor:pointer}.btn:hover{filter:brightness(1.1)}.chips{display:flex;flex-wrap:wrap;gap:8px;margin:18px 0}.chip{background:#0f1b31;border:1px solid #243454;color:var(--text);padding:8px 12px;border-radius:999px;display:inline-flex;align-items:center;gap:8px}.chip button{all:unset;cursor:pointer;color:var(--muted)}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}.card{background:var(--card);border:1px solid #1d2942;border-radius:16px;padding:16px;box-shadow:0 4px 18px rgba(0,0,0,.25)}.card header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.city{font-weight:700;font-size:18px}.meta{color:var(--muted);font-size:12px}.row{display:flex;align-items:center;gap:12px}.temp{font-size:40px;font-weight:800}.kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px}.kpi{background:#0f1b31;border:1px solid #233352;border-radius:12px;padding:10px;text-align:center}.kpi .label{font-size:12px;color:var(--muted)}.kpi .value{font-size:16px;font-weight:700}.canvas-wrap{margin-top:10px;padding:8px;border-radius:12px;background:#0f1524;border:1px dashed #22304d}footer{opacity:.8;text-align:center;margin-top:20px}</style></head><body><header class="container"><h1>WeatherDash</h1><p class="subtitle">Live weather & 24-hour forecast for multiple cities</p><form id="city-form" autocomplete="off"><input id="city-input" type="text" placeholder="Add a city..." /><button type="submit" class="btn">Add</button></form></header><main class="container"><section id="cities" class="chips"></section><section id="cards" class="grid"></section></main><footer class="container"><small>Powered by OpenWeather API</small></footer><script>const API_KEY="859fb53e80fc4b24a0d63411251011";const API_BASE="https://api.openweathermap.org/data/2.5";const units="metric";const DEFAULT_CITIES=["Hyderabad","Mumbai","Delhi","Bengaluru","Chennai"];const state={cities:JSON.parse(localStorage.getItem("cities"))||DEFAULT_CITIES,charts:{}};const $=(q)=>document.querySelector(q);function saveCities(){localStorage.setItem("cities",JSON.stringify(state.cities));}function renderChips(){const wrap=$("#cities");wrap.innerHTML="";state.cities.forEach((name,idx)=>{const chip=document.createElement("span");chip.className="chip";chip.innerHTML=`${name} <button>X</button>`;chip.querySelector("button").addEventListener("click",()=>{state.cities.splice(idx,1);saveCities();renderAll();});wrap.appendChild(chip);});}function cardTemplate(city){return`<article class="card" id="card-${city}"><header><div><div class="city">${city}</div><div class="meta" id="meta-${city}">Loading...</div></div><img id="icon-${city}" width="64" height="64"/></header><div class="row"><div class="temp" id="temp-${city}">--C</div><div class="kpis"><div class="kpi"><div class="label">Humidity</div><div class="value" id="hum-${city}">--%</div></div><div class="kpi"><div class="label">Wind</div><div class="value" id="wind-${city}">-- m/s</div></div><div class="kpi"><div class="label">Feels</div><div class="value" id="feels-${city}">--C</div></div></div></div><div class="canvas-wrap"><canvas id="chart-${city}" height="140"></canvas></div></article>`;}async function loadCity(city){try{const q=encodeURIComponent(city);const nowURL=`${API_BASE}/weather?q=${q}&appid=${API_KEY}&units=${units}`;const fcURL=`${API_BASE}/forecast?q=${q}&appid=${API_KEY}&units=${units}`;const [now,fc]=await Promise.all([fetch(nowURL),fetch(fcURL)]).then(res=>Promise.all(res.map(r=>r.json())));$("#meta-"+city).textContent=`${now.weather[0].main} . ${now.sys.country}`;$("#temp-"+city).textContent=Math.round(now.main.temp)+"C";$("#hum-"+city).textContent=now.main.humidity+"%";$("#wind-"+city).textContent=now.wind.speed+" m/s";$("#feels-"+city).textContent=Math.round(now.main.feels_like)+"C";const icon=now.weather[0].icon;$("#icon-"+city).src=`https://openweathermap.org/img/wn/${icon}@2x.png`;const points=fc.list.slice(0,8);const labels=points.map(p=>p.dt_txt.split(" ")[1].slice(0,5));const temps=points.map(p=>p.main.temp);drawChart(city,labels,temps);}catch(err){$("#meta-"+city).textContent="Error loading data";}}function drawChart(city,labels,temps){const id="chart-"+city;const ctx=document.getElementById(id).getContext("2d");if(state.charts[id])state.charts[id].destroy();state.charts[id]=new Chart(ctx,{type:"line",data:{labels,datasets:[{label:"Next 24h Temp (C)",data:temps,borderWidth:2,tension:0.3}]},options:{responsive:true,maintainAspectRatio:false}});}function renderAll(){renderChips();const wrap=$("#cards");wrap.innerHTML=state.cities.map(cardTemplate).join("");state.cities.forEach(loadCity);}$("#city-form").addEventListener("submit",(e)=>{e.preventDefault();const name=$("#city-input").value.trim();if(name&&!state.cities.includes(name)){state.cities.unshift(name);saveCities();renderAll();}$("#city-input").value="";});renderAll();</script></body></html>
